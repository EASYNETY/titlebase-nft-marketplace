version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm install -g pnpm
        - pnpm install --frozen-lockfile
    build:
      commands:
        - pnpm run build
  artifacts:
    baseDirectory: .next
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      - .pnpm-store/**/*
  environment:
    variables:
      DATABASE_URL: localhost
      POSTGRES_URL: your_postgres_url_here
      JWT_SECRET: your_jwt_secret_here
      NEXTAUTH_URL: http://localhost:3000
      NEXTAUTH_SECRET: your_nextauth_secret_here
      NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID: 3cb8629431ce05afd4f5b30a3bd6602a
      NEXT_PUBLIC_BUNDLER_URL: https://api.pimlico.io/v1/base/rpc?apikey=your_api_key
      NEXT_PUBLIC_PAYMASTER_URL: https://api.pimlico.io/v1/base/rpc?apikey=your_api_key
      VOUCHER_SIGNER_PRIVATE_KEY: your_private_key_for_voucher_signing
      NEXT_PUBLIC_MARKETPLACE_CONTRACT_ADDRESS: 0x...
      NEXT_PUBLIC_NFT_CONTRACT_ADDRESS: 0x...
      NEXT_PUBLIC_ESCROW_CONTRACT_ADDRESS: 0x...
      NEXT_PUBLIC_GOOGLE_CLIENT_ID: your_google_client_id
      GOOGLE_CLIENT_SECRET: your_google_client_secret
      NEXT_PUBLIC_TWITTER_CLIENT_ID: your_twitter_client_id
      TWITTER_CLIENT_SECRET: your_twitter_client_secret
      NEXT_PUBLIC_DISCORD_CLIENT_ID: your_discord_client_id
      DISCORD_CLIENT_SECRET: your_discord_client_secret
      NEXT_PUBLIC_APP_URL: http://localhost:3000
      NEXT_PUBLIC_API_URL: https://lps6mhdyik.execute-api.us-east-1.amazonaws.com
      NEXT_PUBLIC_CHAIN_ID: 8453
      NEXT_PUBLIC_NETWORK_NAME: base
      STRIPE_SECRET_KEY: your_stripe_secret_key
      NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY: your_stripe_publishable_key
      KYC_PROVIDER_API_KEY: your_kyc_provider_api_key
      KYC_PROVIDER_URL: your_kyc_provider_url
